<!DOCTYPE html>
<html lang='en'>
    <head>
	<meta charset='utf-8' />
	<title>JSON Request</title>

    </head>
    <body>
        <p>
            This page requests a JSON response.  The response is written below.

            <div id="myFavoriteThings">

            </div>
        </p>

        <script>
            fetch('http://localhost:8000/')
                .then(function (response) {
                    return response.json();
                })
                .then(function (data) {
                    appendData(data);
                })
                .catch(function (err) {
                    console.log(err);
                });

                function appendData(data) {
                    var jsonBody = document.getElementById("myFavoriteThings");
                    for (var i = 0; i < data.length; i++) {
                        var div = document.createElement("div");
                        div.innerHTML = 'Title: ' + data[i].title + ' ' + 'category: ' + data[i].category + ' ' + 'released: ' + data[i].released + ' ' + 'genre: ' + data[i].genre;
                        jsonBody.appendChild(div);
                    }
                }
        </script>
    </body>
</html>
